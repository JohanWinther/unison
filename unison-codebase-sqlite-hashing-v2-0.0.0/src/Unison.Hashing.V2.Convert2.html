<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Description: Converts V2 types to the V2 hashing types</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Unison.Hashing.V2.Convert2</span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Term"><span class="hs-identifier">v2ToH2Term</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type"><span class="hs-identifier">v2ToH2Type</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2TypeD"><span class="hs-identifier">v2ToH2TypeD</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#h2ToV2Reference"><span class="hs-identifier">h2ToV2Reference</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Kind</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V2</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Reference</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V2</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Referent</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V2.Referent</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Term</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">F</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">F'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MatchCase</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Pattern</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">SeqOp</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TermRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TypeRef</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Type</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V2.Type</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Core.ABT</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ABT</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">U.Util.Hash</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hashing.V2.Kind</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H2</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hashing.V2.Pattern</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H2.Pattern</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hashing.V2.Reference</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H2</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hashing.V2.Referent</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H2.Referent</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hashing.V2.Term</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H2</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hashing.V2.Type</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H2.Type</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Prelude</span></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Term"><span class="hs-identifier hs-type">v2ToH2Term</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094334"><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V2.F</span></span><span> </span><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span id="v2ToH2Term"><span class="annot"><span class="annottext">v2ToH2Term :: Hash -&gt; Term (F v) v () -&gt; Term v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Term"><span class="hs-identifier hs-var hs-var">v2ToH2Term</span></a></span></span><span> </span><span id="local-6989586621679094333"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094333"><span class="hs-identifier hs-var">thisTermComponentHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a1. F v a1 -&gt; F v () () a1) -&gt; Term (F v) v () -&gt; Term v ()
forall v (g :: * -&gt; *) (f :: * -&gt; *) a.
(Ord v, Foldable g, Functor g) =&gt;
(forall a1. f a1 -&gt; g a1) -&gt; Term f v a -&gt; Term g v a
</span><span class="hs-identifier hs-var">ABT.transform</span></span><span> </span><span class="annot"><span class="annottext">forall a1. F v a1 -&gt; F v () () a1
</span><a href="#local-6989586621679094331"><span class="hs-identifier hs-var">convertF</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="#local-6989586621679094331"><span class="hs-identifier hs-type">convertF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094330"><span class="annot"><a href="#local-6989586621679094330"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.F</span></span><span> </span><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094330"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.F</span></span><span> </span><span class="annot"><a href="#local-6989586621679094334"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679094330"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span id="local-6989586621679094331"><span class="annot"><span class="annottext">convertF :: F v x -&gt; F v () () x
</span><a href="#local-6989586621679094331"><span class="hs-identifier hs-var hs-var">convertF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-30"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Int</span></span><span> </span><span id="local-6989586621679094328"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679094328"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Int64 -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Int</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679094328"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-31"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Nat</span></span><span> </span><span id="local-6989586621679094325"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094325"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Word64 -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Nat</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094325"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-32"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Float</span></span><span> </span><span id="local-6989586621679094322"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679094322"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Double -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Float</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679094322"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-33"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Boolean</span></span><span> </span><span id="local-6989586621679094319"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679094319"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Bool -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Boolean</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679094319"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-34"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Text</span></span><span> </span><span id="local-6989586621679094316"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094316"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Text -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Text</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094316"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-35"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Char</span></span><span> </span><span id="local-6989586621679094313"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679094313"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Char -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679094313"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-36"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Ref</span></span><span> </span><span id="local-6989586621679094310"><span class="annot"><span class="annottext">TermRef
</span><a href="#local-6989586621679094310"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Reference -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Ref</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; TermRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertTermRef"><span class="hs-identifier hs-var">convertTermRef</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094333"><span class="hs-identifier hs-var">thisTermComponentHash</span></a></span><span> </span><span class="annot"><span class="annottext">TermRef
</span><a href="#local-6989586621679094310"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Constructor</span></span><span> </span><span id="local-6989586621679094306"><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094306"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094305"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094305"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; Word64 -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Reference -&gt; Word64 -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Constructor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094306"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094305"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-38"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Request</span></span><span> </span><span id="local-6989586621679094301"><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094301"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094300"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094300"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; Word64 -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Reference -&gt; Word64 -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Request</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094301"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094300"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-39"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Handle</span></span><span> </span><span id="local-6989586621679094297"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094297"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094296"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094296"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Handle</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094297"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094296"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-40"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.App</span></span><span> </span><span id="local-6989586621679094293"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094293"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094292"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094292"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.App</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094293"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094292"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-41"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Ann</span></span><span> </span><span id="local-6989586621679094289"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094289"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094288"><span class="annot"><span class="annottext">TypeR TypeRef v
</span><a href="#local-6989586621679094288"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; Type v () -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; Type typeVar typeAnn -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Ann</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094289"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeR TypeRef v -&gt; Type v ()
forall v. Ord v =&gt; TypeR TypeRef v -&gt; Type v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type"><span class="hs-identifier hs-var">v2ToH2Type</span></a></span><span> </span><span class="annot"><span class="annottext">TypeR TypeRef v
</span><a href="#local-6989586621679094288"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.List</span></span><span> </span><span id="local-6989586621679094285"><span class="annot"><span class="annottext">Seq x
</span><a href="#local-6989586621679094285"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Seq a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.List</span></span><span> </span><span class="annot"><span class="annottext">Seq x
</span><a href="#local-6989586621679094285"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-43"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.If</span></span><span> </span><span id="local-6989586621679094282"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094282"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094281"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094281"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679094280"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094280"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; a -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.If</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094282"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094281"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094280"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-44"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.And</span></span><span> </span><span id="local-6989586621679094277"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094277"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094276"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094276"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.And</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094277"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094276"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-45"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Or</span></span><span> </span><span id="local-6989586621679094273"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094273"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094272"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094272"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Or</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094273"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094272"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-46"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Lam</span></span><span> </span><span id="local-6989586621679094269"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094269"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Lam</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094269"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-47"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.LetRec</span></span><span> </span><span id="local-6989586621679094266"><span class="annot"><span class="annottext">[x]
</span><a href="#local-6989586621679094266"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094265"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094265"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[x] -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
[a] -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.LetRec</span></span><span> </span><span class="annot"><span class="annottext">[x]
</span><a href="#local-6989586621679094266"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094265"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-48"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Let</span></span><span> </span><span id="local-6989586621679094262"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094262"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094261"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094261"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; a -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Let</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094262"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094261"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-49"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Match</span></span><span> </span><span id="local-6989586621679094258"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094258"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094257"><span class="annot"><span class="annottext">[MatchCase Text TypeRef x]
</span><a href="#local-6989586621679094257"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; [MatchCase () x] -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
a -&gt; [MatchCase patternAnn a] -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.Match</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094258"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MatchCase Text TypeRef x -&gt; MatchCase () x)
-&gt; [MatchCase Text TypeRef x] -&gt; [MatchCase () x]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">MatchCase Text TypeRef x -&gt; MatchCase () x
forall x. MatchCase Text TypeRef x -&gt; MatchCase () x
</span><a href="Unison.Hashing.V2.Convert2.html#convertMatchCase"><span class="hs-identifier hs-var">convertMatchCase</span></a></span><span> </span><span class="annot"><span class="annottext">[MatchCase Text TypeRef x]
</span><a href="#local-6989586621679094257"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.TermLink</span></span><span> </span><span id="local-6989586621679094253"><span class="annot"><span class="annottext">TermLink
</span><a href="#local-6989586621679094253"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Referent -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Referent -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.TermLink</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; TermLink -&gt; Referent
</span><a href="Unison.Hashing.V2.Convert2.html#convertReferent"><span class="hs-identifier hs-var">convertReferent</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094333"><span class="hs-identifier hs-var">thisTermComponentHash</span></a></span><span> </span><span class="annot"><span class="annottext">TermLink
</span><a href="#local-6989586621679094253"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.TypeLink</span></span><span> </span><span id="local-6989586621679094249"><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094249"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; F v () () x
forall typeVar typeAnn patternAnn a.
Reference -&gt; F typeVar typeAnn patternAnn a
</span><span class="hs-identifier hs-var">H2.TypeLink</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094249"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span id="local-6989586621679094375"><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertMatchCase"><span class="hs-identifier hs-type">convertMatchCase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.MatchCase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.TypeRef</span></span><span> </span><span class="annot"><a href="#local-6989586621679094375"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.MatchCase</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679094375"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-54"></span><span id="convertMatchCase"><span class="annot"><span class="annottext">convertMatchCase :: MatchCase Text TypeRef x -&gt; MatchCase () x
</span><a href="Unison.Hashing.V2.Convert2.html#convertMatchCase"><span class="hs-identifier hs-var hs-var">convertMatchCase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V2.MatchCase</span></span><span> </span><span id="local-6989586621679094246"><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094246"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621679094245"><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679094245"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094244"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094244"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern () -&gt; Maybe x -&gt; x -&gt; MatchCase () x
forall loc a. Pattern loc -&gt; Maybe a -&gt; a -&gt; MatchCase loc a
</span><span class="hs-identifier hs-var">H2.MatchCase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094246"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679094245"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679094244"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-type">convertPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Pattern</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.TypeRef</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Pattern.Pattern</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span id="convertPattern"><span class="annot"><span class="annottext">convertPattern :: Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var hs-var">convertPattern</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><span class="hs-identifier hs-var">V2.PUnbound</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Pattern ()
forall loc. loc -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Unbound</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><span class="hs-identifier hs-var">V2.PVar</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Pattern ()
forall loc. loc -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PBoolean</span></span><span> </span><span id="local-6989586621679094236"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679094236"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Bool -&gt; Pattern ()
forall loc. loc -&gt; Bool -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Boolean</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679094236"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PInt</span></span><span> </span><span id="local-6989586621679094233"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679094233"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Int64 -&gt; Pattern ()
forall loc. loc -&gt; Int64 -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Int</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679094233"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PNat</span></span><span> </span><span id="local-6989586621679094230"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094230"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Word64 -&gt; Pattern ()
forall loc. loc -&gt; Word64 -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Nat</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094230"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PFloat</span></span><span> </span><span id="local-6989586621679094227"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679094227"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Double -&gt; Pattern ()
forall loc. loc -&gt; Double -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Float</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679094227"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PText</span></span><span> </span><span id="local-6989586621679094224"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094224"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Text -&gt; Pattern ()
forall loc. loc -&gt; Text -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Text</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094224"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PChar</span></span><span> </span><span id="local-6989586621679094221"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679094221"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Char -&gt; Pattern ()
forall loc. loc -&gt; Char -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Char</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679094221"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PConstructor</span></span><span> </span><span id="local-6989586621679094218"><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094218"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094217"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094217"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679094216"><span class="annot"><span class="annottext">[Pattern Text TypeRef]
</span><a href="#local-6989586621679094216"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Reference -&gt; Word64 -&gt; [Pattern ()] -&gt; Pattern ()
forall loc.
loc -&gt; Reference -&gt; Word64 -&gt; [Pattern loc] -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.Constructor</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094218"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094217"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pattern Text TypeRef -&gt; Pattern ())
-&gt; [Pattern Text TypeRef] -&gt; [Pattern ()]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern Text TypeRef]
</span><a href="#local-6989586621679094216"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PAs</span></span><span> </span><span id="local-6989586621679094213"><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094213"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Pattern () -&gt; Pattern ()
forall loc. loc -&gt; Pattern loc -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.As</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094213"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PEffectPure</span></span><span> </span><span id="local-6989586621679094210"><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094210"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Pattern () -&gt; Pattern ()
forall loc. loc -&gt; Pattern loc -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.EffectPure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094210"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PEffectBind</span></span><span> </span><span id="local-6989586621679094207"><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094207"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094206"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094206"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679094205"><span class="annot"><span class="annottext">[Pattern Text TypeRef]
</span><a href="#local-6989586621679094205"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679094204"><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094204"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; Reference -&gt; Word64 -&gt; [Pattern ()] -&gt; Pattern () -&gt; Pattern ()
forall loc.
loc
-&gt; Reference
-&gt; Word64
-&gt; [Pattern loc]
-&gt; Pattern loc
-&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.EffectBind</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094207"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094206"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pattern Text TypeRef -&gt; Pattern ())
-&gt; [Pattern Text TypeRef] -&gt; [Pattern ()]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern Text TypeRef]
</span><a href="#local-6989586621679094205"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094204"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PSequenceLiteral</span></span><span> </span><span id="local-6989586621679094201"><span class="annot"><span class="annottext">[Pattern Text TypeRef]
</span><a href="#local-6989586621679094201"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; [Pattern ()] -&gt; Pattern ()
forall loc. loc -&gt; [Pattern loc] -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.SequenceLiteral</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pattern Text TypeRef -&gt; Pattern ())
-&gt; [Pattern Text TypeRef] -&gt; [Pattern ()]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern Text TypeRef]
</span><a href="#local-6989586621679094201"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.PSequenceOp</span></span><span> </span><span id="local-6989586621679094198"><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094198"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094197"><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679094197"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679094196"><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094196"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Pattern () -&gt; SeqOp -&gt; Pattern () -&gt; Pattern ()
forall loc.
loc -&gt; Pattern loc -&gt; SeqOp -&gt; Pattern loc -&gt; Pattern loc
</span><span class="hs-identifier hs-var">H2.Pattern.SequenceOp</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094198"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SeqOp -&gt; SeqOp
</span><a href="#local-6989586621679094194"><span class="hs-identifier hs-var">convertSeqOp</span></a></span><span> </span><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679094197"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern Text TypeRef -&gt; Pattern ()
</span><a href="Unison.Hashing.V2.Convert2.html#convertPattern"><span class="hs-identifier hs-var">convertPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern Text TypeRef
</span><a href="#local-6989586621679094196"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-73"></span><span>    </span><span id="local-6989586621679094194"><span class="annot"><span class="annottext">convertSeqOp :: SeqOp -&gt; SeqOp
</span><a href="#local-6989586621679094194"><span class="hs-identifier hs-var hs-var">convertSeqOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-74"></span><span>      </span><span class="annot"><span class="annottext">SeqOp
</span><span class="hs-identifier hs-var">V2.PCons</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SeqOp
</span><span class="hs-identifier hs-var">H2.Pattern.Cons</span></span><span>
</span><span id="line-75"></span><span>      </span><span class="annot"><span class="annottext">SeqOp
</span><span class="hs-identifier hs-var">V2.PSnoc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SeqOp
</span><span class="hs-identifier hs-var">H2.Pattern.Snoc</span></span><span>
</span><span id="line-76"></span><span>      </span><span class="annot"><span class="annottext">SeqOp
</span><span class="hs-identifier hs-var">V2.PConcat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SeqOp
</span><span class="hs-identifier hs-var">H2.Pattern.Concat</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertReferent"><span class="hs-identifier hs-type">convertReferent</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.Referent.Referent'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V2.Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V2.Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">H2.Referent.Referent</span></span><span>
</span><span id="line-82"></span><span id="convertReferent"><span class="annot"><span class="annottext">convertReferent :: Hash -&gt; TermLink -&gt; Referent
</span><a href="Unison.Hashing.V2.Convert2.html#convertReferent"><span class="hs-identifier hs-var hs-var">convertReferent</span></a></span></span><span> </span><span id="local-6989586621679094186"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094186"><span class="hs-identifier hs-var">defaultHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.Referent.Ref</span></span><span> </span><span id="local-6989586621679094184"><span class="annot"><span class="annottext">TermRef
</span><a href="#local-6989586621679094184"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; Referent
</span><span class="hs-identifier hs-var">H2.Referent.Ref</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; TermRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertTermRef"><span class="hs-identifier hs-var">convertTermRef</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094186"><span class="hs-identifier hs-var">defaultHash</span></a></span><span> </span><span class="annot"><span class="annottext">TermRef
</span><a href="#local-6989586621679094184"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.Referent.Con</span></span><span> </span><span id="local-6989586621679094181"><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094181"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679094180"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094180"><span class="hs-identifier hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; Word64 -&gt; Referent
</span><span class="hs-identifier hs-var">H2.Referent.Con</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef
</span><a href="#local-6989586621679094181"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094180"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertId"><span class="hs-identifier hs-type">convertId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Id'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Id</span></span><span>
</span><span id="line-87"></span><span id="convertId"><span class="annot"><span class="annottext">convertId :: Hash -&gt; Id' (Maybe Hash) -&gt; Id
</span><a href="Unison.Hashing.V2.Convert2.html#convertId"><span class="hs-identifier hs-var hs-var">convertId</span></a></span></span><span> </span><span id="local-6989586621679094177"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094177"><span class="hs-identifier hs-var">defaultHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.Id</span></span><span> </span><span id="local-6989586621679094175"><span class="annot"><span class="annottext">Maybe Hash
</span><a href="#local-6989586621679094175"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679094174"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094174"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Word64 -&gt; Id
</span><span class="hs-identifier hs-var">H2.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Maybe Hash -&gt; Hash
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094177"><span class="hs-identifier hs-var">defaultHash</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Hash
</span><a href="#local-6989586621679094175"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094174"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-type">convertReference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Reference</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Reference</span></span><span>
</span><span id="line-91"></span><span id="convertReference"><span class="annot"><span class="annottext">convertReference :: TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var hs-var">convertReference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Id' Hash -&gt; Id) -&gt; TypeRef -&gt; Reference
forall hash. (Id' hash -&gt; Id) -&gt; Reference' Text hash -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference%27"><span class="hs-identifier hs-var">convertReference'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V2.Id</span></span><span> </span><span id="local-6989586621679094169"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094169"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094168"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094168"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Word64 -&gt; Id
</span><span class="hs-identifier hs-var">H2.Id</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094169"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094168"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertTermRef"><span class="hs-identifier hs-type">convertTermRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.TermRef</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Reference</span></span><span>
</span><span id="line-94"></span><span id="convertTermRef"><span class="annot"><span class="annottext">convertTermRef :: Hash -&gt; TermRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertTermRef"><span class="hs-identifier hs-var hs-var">convertTermRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Id' (Maybe Hash) -&gt; Id) -&gt; TermRef -&gt; Reference
forall hash. (Id' hash -&gt; Id) -&gt; Reference' Text hash -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference%27"><span class="hs-identifier hs-var">convertReference'</span></a></span><span> </span><span class="annot"><span class="annottext">((Id' (Maybe Hash) -&gt; Id) -&gt; TermRef -&gt; Reference)
-&gt; (Hash -&gt; Id' (Maybe Hash) -&gt; Id) -&gt; Hash -&gt; TermRef -&gt; Reference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Id' (Maybe Hash) -&gt; Id
</span><a href="Unison.Hashing.V2.Convert2.html#convertId"><span class="hs-identifier hs-var">convertId</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span id="local-6989586621679094361"><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertReference%27"><span class="hs-identifier hs-type">convertReference'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V2.Id'</span></span><span> </span><span class="annot"><a href="#local-6989586621679094361"><span class="hs-identifier hs-type">hash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Id</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><a href="#local-6989586621679094361"><span class="hs-identifier hs-type">hash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Reference</span></span></span><span>
</span><span id="line-97"></span><span id="convertReference%27"><span class="annot"><span class="annottext">convertReference' :: (Id' hash -&gt; Id) -&gt; Reference' Text hash -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference%27"><span class="hs-identifier hs-var hs-var">convertReference'</span></a></span></span><span> </span><span id="local-6989586621679094166"><span class="annot"><span class="annottext">Id' hash -&gt; Id
</span><a href="#local-6989586621679094166"><span class="hs-identifier hs-var">idConv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.ReferenceBuiltin</span></span><span> </span><span id="local-6989586621679094164"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094164"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Reference
</span><span class="hs-identifier hs-var">H2.Builtin</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094164"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.ReferenceDerived</span></span><span> </span><span id="local-6989586621679094161"><span class="annot"><span class="annottext">Id' hash
</span><a href="#local-6989586621679094161"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Reference
</span><span class="hs-identifier hs-var">H2.DerivedId</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id' hash -&gt; Id
</span><a href="#local-6989586621679094166"><span class="hs-identifier hs-var">idConv</span></a></span><span> </span><span class="annot"><span class="annottext">Id' hash
</span><a href="#local-6989586621679094161"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type"><span class="hs-identifier hs-type">v2ToH2Type</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094381"><span class="annot"><a href="#local-6989586621679094381"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679094381"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.TypeR</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.TypeRef</span></span><span> </span><span class="annot"><a href="#local-6989586621679094381"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Type.Type</span></span><span> </span><span class="annot"><a href="#local-6989586621679094381"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span id="v2ToH2Type"><span class="annot"><span class="annottext">v2ToH2Type :: TypeR TypeRef v -&gt; Type v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type"><span class="hs-identifier hs-var hs-var">v2ToH2Type</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TypeRef -&gt; Reference) -&gt; TypeR TypeRef v -&gt; Type v ()
forall r v. Ord v =&gt; (r -&gt; Reference) -&gt; TypeR r v -&gt; Type v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type%27"><span class="hs-identifier hs-var">v2ToH2Type'</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRef -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference"><span class="hs-identifier hs-var">convertReference</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2TypeD"><span class="hs-identifier hs-type">v2ToH2TypeD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094158"><span class="annot"><a href="#local-6989586621679094158"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679094158"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.TypeD</span></span><span> </span><span class="annot"><a href="#local-6989586621679094158"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Type.Type</span></span><span> </span><span class="annot"><a href="#local-6989586621679094158"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span id="v2ToH2TypeD"><span class="annot"><span class="annottext">v2ToH2TypeD :: Hash -&gt; TypeD v -&gt; Type v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2TypeD"><span class="hs-identifier hs-var hs-var">v2ToH2TypeD</span></a></span></span><span> </span><span id="local-6989586621679094157"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094157"><span class="hs-identifier hs-var">defaultHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TermRef -&gt; Reference) -&gt; TypeD v -&gt; Type v ()
forall r v. Ord v =&gt; (r -&gt; Reference) -&gt; TypeR r v -&gt; Type v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type%27"><span class="hs-identifier hs-var">v2ToH2Type'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Id' (Maybe Hash) -&gt; Id) -&gt; TermRef -&gt; Reference
forall hash. (Id' hash -&gt; Id) -&gt; Reference' Text hash -&gt; Reference
</span><a href="Unison.Hashing.V2.Convert2.html#convertReference%27"><span class="hs-identifier hs-var">convertReference'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Id' (Maybe Hash) -&gt; Id
</span><a href="Unison.Hashing.V2.Convert2.html#convertId"><span class="hs-identifier hs-var">convertId</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094157"><span class="hs-identifier hs-var">defaultHash</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type%27"><span class="hs-identifier hs-type">v2ToH2Type'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094353"><span class="annot"><a href="#local-6989586621679094353"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679094354"><span class="annot"><a href="#local-6989586621679094354"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679094354"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679094353"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Reference</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.TypeR</span></span><span> </span><span class="annot"><a href="#local-6989586621679094353"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094354"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Type.Type</span></span><span> </span><span class="annot"><a href="#local-6989586621679094354"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span id="v2ToH2Type%27"><span class="annot"><span class="annottext">v2ToH2Type' :: (r -&gt; Reference) -&gt; TypeR r v -&gt; Type v ()
</span><a href="Unison.Hashing.V2.Convert2.html#v2ToH2Type%27"><span class="hs-identifier hs-var hs-var">v2ToH2Type'</span></a></span></span><span> </span><span id="local-6989586621679094156"><span class="annot"><span class="annottext">r -&gt; Reference
</span><a href="#local-6989586621679094156"><span class="hs-identifier hs-var">mkReference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a1. F' r a1 -&gt; F a1) -&gt; TypeR r v -&gt; Type v ()
forall v (g :: * -&gt; *) (f :: * -&gt; *) a.
(Ord v, Foldable g, Functor g) =&gt;
(forall a1. f a1 -&gt; g a1) -&gt; Term f v a -&gt; Term g v a
</span><span class="hs-identifier hs-var">ABT.transform</span></span><span> </span><span class="annot"><span class="annottext">forall a1. F' r a1 -&gt; F a1
</span><a href="#local-6989586621679094155"><span class="hs-identifier hs-var">convertF</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><a href="#local-6989586621679094155"><span class="hs-identifier hs-type">convertF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094154"><span class="annot"><a href="#local-6989586621679094154"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.F'</span></span><span> </span><span class="annot"><a href="#local-6989586621679094353"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094154"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Type.F</span></span><span> </span><span class="annot"><a href="#local-6989586621679094154"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span id="local-6989586621679094155"><span class="annot"><span class="annottext">convertF :: F' r a -&gt; F a
</span><a href="#local-6989586621679094155"><span class="hs-identifier hs-var hs-var">convertF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-112"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.Ref</span></span><span> </span><span id="local-6989586621679094152"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679094152"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; F a
forall a. Reference -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.Ref</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Reference
</span><a href="#local-6989586621679094156"><span class="hs-identifier hs-var">mkReference</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679094152"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.Arrow</span></span><span> </span><span id="local-6989586621679094149"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094149"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094148"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094148"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; F a
forall a. a -&gt; a -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.Arrow</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094149"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094148"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-114"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.Ann</span></span><span> </span><span id="local-6989586621679094145"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094145"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094144"><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621679094144"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Kind -&gt; F a
forall a. a -&gt; Kind -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.Ann</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094145"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind
</span><a href="Unison.Hashing.V2.Convert2.html#convertKind"><span class="hs-identifier hs-var">convertKind</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621679094144"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.App</span></span><span> </span><span id="local-6989586621679094140"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094140"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094139"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094139"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; F a
forall a. a -&gt; a -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.App</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094140"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094139"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-116"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.Effect</span></span><span> </span><span id="local-6989586621679094136"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094136"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094135"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094135"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; F a
forall a. a -&gt; a -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.Effect</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094136"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094135"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-117"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.Effects</span></span><span> </span><span id="local-6989586621679094132"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679094132"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; F a
forall a. [a] -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.Effects</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679094132"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-118"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.Forall</span></span><span> </span><span id="local-6989586621679094129"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094129"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; F a
forall a. a -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.Forall</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094129"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-119"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">V2.Type.IntroOuter</span></span><span> </span><span id="local-6989586621679094126"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094126"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; F a
forall a. a -&gt; F a
</span><span class="hs-identifier hs-var">H2.Type.IntroOuter</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679094126"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#convertKind"><span class="hs-identifier hs-type">convertKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Kind</span></span><span>
</span><span id="line-122"></span><span id="convertKind"><span class="annot"><span class="annottext">convertKind :: Kind -&gt; Kind
</span><a href="Unison.Hashing.V2.Convert2.html#convertKind"><span class="hs-identifier hs-var hs-var">convertKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><span class="annottext">Kind
</span><span class="hs-identifier hs-var">V2.Star</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind
</span><span class="hs-identifier hs-var">H2.Star</span></span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">V2.Arrow</span></span><span> </span><span id="local-6989586621679094121"><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621679094121"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679094120"><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621679094120"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Kind
</span><span class="hs-identifier hs-var">H2.Arrow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind
</span><a href="Unison.Hashing.V2.Convert2.html#convertKind"><span class="hs-identifier hs-var">convertKind</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621679094121"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind
</span><a href="Unison.Hashing.V2.Convert2.html#convertKind"><span class="hs-identifier hs-var">convertKind</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621679094120"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Unison.Hashing.V2.Convert2.html#h2ToV2Reference"><span class="hs-identifier hs-type">h2ToV2Reference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">H2.Reference</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V2.Reference</span></span><span>
</span><span id="line-127"></span><span id="h2ToV2Reference"><span class="annot"><span class="annottext">h2ToV2Reference :: Reference -&gt; TypeRef
</span><a href="Unison.Hashing.V2.Convert2.html#h2ToV2Reference"><span class="hs-identifier hs-var hs-var">h2ToV2Reference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">H2.Builtin</span></span><span> </span><span id="local-6989586621679094118"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094118"><span class="hs-identifier hs-var">txt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TypeRef
forall t h. t -&gt; Reference' t h
</span><span class="hs-identifier hs-var">V2.ReferenceBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679094118"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">H2.DerivedId</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">H2.Id</span></span><span> </span><span id="local-6989586621679094117"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094117"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679094116"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094116"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Id' Hash -&gt; TypeRef
forall t h. Id' h -&gt; Reference' t h
</span><span class="hs-identifier hs-var">V2.ReferenceDerived</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Word64 -&gt; Id' Hash
forall h. h -&gt; Word64 -&gt; Id' h
</span><span class="hs-identifier hs-var">V2.Id</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679094117"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679094116"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span></pre></body></html>